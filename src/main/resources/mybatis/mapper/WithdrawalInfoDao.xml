<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.way.member.withdrawal.dao.WithdrawalInfoDao" >

    <insert id="withdrawalRewardScore">
        insert into withdrawal_info (phone_no, bank_name, bank_number, name, bank_branch, reward_score, status, remark, create_time, modify_time)
        values (#{phoneNo}, #{bankName}, #{bankNumber}, #{name}, #{bankBranch}, #{rewardScore}, #{status}, #{remark}, now(), now())
    </insert>

    <select id="getWithdrawalRewardScoreCount" resultType="java.lang.Integer">
        select COUNT(1) from withdrawal_info where phone_no = #{phoneNo}
    </select>

    <select id="getWithdrawalRewardScoreInfo"
            resultType="com.way.member.withdrawal.entity.WithdrawalInfoEntity">
        select phone_no phoneNo, bank_name bankName, bank_number bankNumber, name, bank_branch bankBranch, reward_score rewardScore, status, remark,
        create_time createTime, modify_time modifyTime from withdrawal_info
        where phone_no = #{phoneNo} limit #{pageNumber},10 order by id desc
    </select>

</mapper>
